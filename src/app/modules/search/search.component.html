<div class="sidebar">
  @if(request){
    <div class="controls">
      <mat-accordion multi="multi">
        <app-passenger-control [userId]="userId" [(passengers)]="request.passengers" (passengersChange)="requestDataChanged()"/>
        <app-time-control [(dateTime)]="time" (dateTimeChange)="requestDataChanged()" [(type)]="request.timeType" (typeChange)="requestDataChanged()"/>
        <app-options-control [(options)]="request.options" (optionsChange)="requestDataChanged()"/>
        <app-route-control [(route)]="request.route" (routeChange)="requestDataChanged()" [(valid)]="routeValid"/>
      </mat-accordion>
    </div>
    <div class="search">
      <button mat-fab extended [disabled]="!passengersValid || !routeValid" (click)="search()">
        <mat-icon>search</mat-icon>
        <span i18n>Search</span>
      </button>
    </div>
  }
</div>
